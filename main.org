#+begin_src sh :shebang #!/bin/sh :results output 
  git branch aravind_prodigy_dataset
#+end_src

#+RESULTS:

#+begin_src sh :shebang #!/bin/sh :results output 
  git switch aravind_prodigy_dataset
#+end_src

#+RESULTS:
: M	make_latent.py
: Your branch and 'origin/aravind_prodigy_dataset' have diverged,
: and have 2 and 1 different commits each, respectively.
:   (use "git pull" to merge the remote branch into yours)

#+begin_src sh :shebang #!/bin/sh :results output 
  git branch -a
#+end_src

#+RESULTS:
: * aravind_prodigy_dataset
:   fix_batch
:   main
:   remotes/origin/HEAD -> origin/main
:   remotes/origin/aravind_prodigy_dataset
:   remotes/origin/fix_batch
:   remotes/origin/main

#+begin_src conf :tangle ./git_add.txt
  .gitignore
  image_datasets/dataset.py
  main.org
  make_latent.py
  new/train_flux_lora_deepspeed.org
  train_flux_lora_deepspeed.py
  train_flux_lora_deepspeed_cached.py
  make_latent_2.py
  image_datasets/canny_dataset.py
  make_latent_2.py
  train_flux_lora_controlnet_deepspeed_cached.py
#+end_src

#+begin_src conf :tangle ./rm.txt
  git_add.txt
  gitignore
  image_datasets/.dataset.py.~undo-tree~
  #main.org#
  .#main.org
  main.org~
  .main.org.~undo-tree~
  make_latent.py~
  .make_latent.py.~undo-tree~
  rm.txt
  .train_flux_lora_deepspeed.py.~undo-tree~
  work.sh
  .train_flux_lora_deepspeed_cached.py.~undo-tree~
  train_flux_lora_deepspeed_cached.py~
  .make_latent_2.py.~undo-tree~
  make_latent_2.py~
  image_datasets/.canny_dataset.py.~undo-tree~
  .train_flux_lora_controlnet_deepspeed_cached.py.~undo-tree~
  train_flux_lora_controlnet_deepspeed_cached.py~
  .train_flux_deepspeed_controlnet.py.~undo-tree~
#+end_src

#+begin_src conf :tangle ./gitignore
  # Byte-compiled / optimized / DLL files
  __pycache__/
  ,*.py[cod]
  ,*$py.class

  # C extensions
  ,*.so

  # Distribution / packaging
  .Python
  Makefile
  build/
  develop-eggs/
  dist/
  downloads/
  eggs/
  .eggs/
  lib/
  lib64/
  parts/
  sdist/
  var/
  wheels/
  weights/

  share/python-wheels/
  ,*.egg-info/
  .installed.cfg
  ,*.egg
  MANIFEST

  # PyInstaller
  #  Usually these files are written by a python script from a template
  #  before PyInstaller builds the exe, so as to inject date/other infos into it.
  ,*.manifest
  ,*.spec

  # Installer logs
  pip-log.txt
  pip-delete-this-directory.txt

  # Unit test / coverage reports
  htmlcov/
  .tox/
  .nox/
  .coverage
  .coverage.*
  .cache/
  nosetests.xml
  coverage.xml
  ,*.cover
  ,*.py,cover
  .hypothesis/
  .pytest_cache/
  cover/

  # Translations
  ,*.mo
  ,*.pot

  # Django stuff:
  ,*.log
  local_settings.py
  db.sqlite3
  db.sqlite3-journal

  # Flask stuff:
  instance/
  .webassets-cache

  # Scrapy stuff:
  .scrapy

  # Sphinx documentation
  docs/_build/

  # PyBuilder
  .pybuilder/
  target/

  # Jupyter Notebook
  .ipynb_checkpoints

  # IPython
  profile_default/
  ipython_config.py

  # pyenv
  #   For a library or package, you might want to ignore these files since the code is
  #   intended to run in multiple environments; otherwise, check them in:
  # .python-version

  # pipenv
  #   According to pypa/pipenv#598, it is recommended to include Pipfile.lock in version control.
  #   However, in case of collaboration, if having platform-specific dependencies or dependencies
  #   having no cross-platform support, pipenv may install dependencies that don't work, or not
  #   install all needed dependencies.
  #Pipfile.lock

  # poetry
  #   Similar to Pipfile.lock, it is generally recommended to include poetry.lock in version control.
  #   This is especially recommended for binary packages to ensure reproducibility, and is more
  #   commonly ignored for libraries.
  #   https://python-poetry.org/docs/basic-usage/#commit-your-poetrylock-file-to-version-control
  #poetry.lock

  # pdm
  #   Similar to Pipfile.lock, it is generally recommended to include pdm.lock in version control.
  #pdm.lock
  #   pdm stores project-wide configurations in .pdm.toml, but it is recommended to not include it
  #   in version control.
  #   https://pdm.fming.dev/latest/usage/project/#working-with-version-control
  .pdm.toml
  .pdm-python
  .pdm-build/

  # PEP 582; used by e.g. github.com/David-OConnor/pyflow and github.com/pdm-project/pdm
  __pypackages__/

  # Celery stuff
  celerybeat-schedule
  celerybeat.pid

  # SageMath parsed files
  ,*.sage.py

  # Environments
  .env
  .venv
  env/
  venv/
  ENV/
  env.bak/
  venv.bak/

  # Spyder project settings
  .spyderproject
  .spyproject

  # Rope project settings
  .ropeproject

  # mkdocs documentation
  /site

  # mypy
  .mypy_cache/
  .dmypy.json
  dmypy.json

  # Pyre type checker
  .pyre/

  # pytype static type analyzer
  .pytype/

  # Cython debug symbols
  cython_debug/

  # PyCharm
  #  JetBrains specific template is maintained in a separate JetBrains.gitignore that can
  #  be found at https://github.com/github/gitignore/blob/main/Global/JetBrains.gitignore
  #  and can be added to the global gitignore or merged into this file.  For a more nuclear
  #  option (not recommended) you can uncomment the following to ignore the entire idea folder.
  #.idea/

  .DS_Store
#+end_src

#+begin_src sh :shebang #!/bin/sh :results output :tangle ./work.sh
  (sed 's@^@/@g' ./rm.txt ; cat './gitignore') | sort | uniq > ./.gitignore
  'sed' 's@^@("git" "add" "./@g;s@$@");@g' './git_add.txt' | sh
  'sed' 's@^@("rm" "-vf" "--" "./@g;s@$@");@g' './rm.txt' | sh
#+end_src

#+RESULTS:
: removed './.main.org.~undo-tree~'
: removed './git_add.txt'

#+begin_src elisp
  (save-buffer)
  (save-some-buffers)
  (org-babel-tangle)
  (shell-command "./work.sh")
#+end_src

#+RESULTS:
: 0

#+begin_src sh :shebang #!/bin/sh :results output 
  git status
#+end_src

#+RESULTS:
: On branch aravind_prodigy_dataset
: Your branch is up to date with 'origin/aravind_prodigy_dataset'.
: 
: Changes to be committed:
:   (use "git restore --staged <file>..." to unstage)
: 	modified:   image_datasets/canny_dataset.py
: 	modified:   main.org
: 


#+RESULTS:
: 0

#+begin_src sh :shebang #!/bin/sh :results output 
  git commit -m 'New net test'
  ssh-add "${HOME}/.ssh/github10"
  git push --set-upstream origin aravind_prodigy_dataset
#+end_src

#+RESULTS:
: [aravind_prodigy_dataset e0f0bd5] New net test
:  2 files changed, 61 insertions(+), 36 deletions(-)
: Branch 'aravind_prodigy_dataset' set up to track remote branch 'aravind_prodigy_dataset' from 'origin'.

#+begin_src sh :shebang #!/bin/sh :results output 
  git log -n 10
#+end_src

#+RESULTS:
#+begin_example
commit 
Author: aravindhv10 <aravindhv10@gmail.com>
Date:   Sun Sep 15 14:01:38 2024 +0530

    New net test

commit 12e7f9fa5bccddc77c8a7e1d06baaa6ed0674feb
Author: aravindhv10 <aravindhv10@gmail.com>
Date:   Sun Sep 15 12:59:15 2024 +0530

    Started work on controlnet + lora unified trainer

commit 06addbfbeaa758ca7ee6809305f2f1faee9ca4b7
Author: aravindhv10 <aravindhv10@gmail.com>
Date:   Sun Sep 15 12:54:37 2024 +0530

    Started work on controlnet + lora unified trainer

commit ce0c8877ac1a3e9b35637de9b72c000ec48c8a0e
Author: aravindhv10 <aravindhv10@gmail.com>
Date:   Sun Sep 15 11:45:17 2024 +0530

    Started work on controlnet + lora unified trainer

commit 7734cecc27134bc0059cc61a4127bc3ff95a63ab
Author: aravindhv10 <aravindhv10@gmail.com>
Date:   Sat Sep 14 22:57:38 2024 +0530

    Wrote code to generate latent for new type dataset

commit dd420a7e05e0a4f538057e07491d2e900871cfa2
Author: aravindhv10 <aravindhv10@gmail.com>
Date:   Mon Sep 9 21:48:31 2024 +0530

    Separated latent caching code from cached training code

commit 9830a15956b326eab69bcd174e4052d5eba8bc96
Author: aravindhv10 <aravindhv10@gmail.com>
Date:   Mon Sep 9 20:26:37 2024 +0530

    Separated latent caching code from cached training code

commit 4e26dba8f5933729265a2333d3884b9b88056864
Author: aravindhv10 <aravindhv10@gmail.com>
Date:   Mon Sep 9 19:12:35 2024 +0530

    Separated latent caching code from cached training code

commit eca1b7c42009aacefee9f8a0b341faed2f8e91ca
Author: aravindhv10 <aravindhv10@gmail.com>
Date:   Mon Sep 9 17:18:05 2024 +0530

    More streamlining

commit c689f764ad0d972424697ca668190018493b6333
Author: aravindhv10 <aravindhv10@gmail.com>
Date:   Mon Sep 9 17:13:19 2024 +0530

    Fixed device issue while training
#+end_example
